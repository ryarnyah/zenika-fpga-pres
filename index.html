<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="author" content="MORVAN Pierre"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./vendor/reveal.js/dist/reveal.css"/>

<link rel="stylesheet" href="./css/slides.css" id="theme"/>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide">
<div class="page-title"><h1 id="title" style="width: 900px">FPGA? FPG Quoi?</h1><h2>MORVAN Pierre</h2></div>
</section>
<link href="css/slides.css" rel="stylesheet">
<title>FPGA? FPG Quoi?</title>

<section>
<section id="slide-org05f0624">
<h2 id="org05f0624">WHO AM I?</h2>

<div id="org3ad036b" class="figure">
<p><img src="./assets/pierre_znk.png" alt="pierre_znk.png" style="border-radius: 50%; margin: auto; display: block;" />
</p>
</div>
<p style="text-align: center">
Pierre Morvan @Zenika Paris
</p>
<p style="text-align: center">
@ryarnyah
</p>
<p style="text-align: center">
"Du Java mais pas que&#x2026;"
</p>
</section>
</section>
<section>
<section id="slide-orgf9d1222">
<h2 id="orgf9d1222">FPGA?</h2>

<div id="org93cf5c2" class="figure">
<p><img src="./assets/FPGAs-Icon_4x.png" alt="FPGAs-Icon_4x.png" class="questions" />
</p>
</div>
</section>
<section id="slide-orgbfcde1f">
<h3 id="orgbfcde1f">USE-CASES</h3>
<p>
FPGA (Field Programmable Gate Array)
</p>
<ul>
<li class="fragment appear">Prototypage microcontroleur</li>
<li class="fragment appear">Composants évolutifs (compression vidéo, etc)</li>
<li class="fragment appear">Faible production de composants</li>
<li class="fragment appear">Composant à usage spécifique (co-processeur AES, etc)</li>
<li class="fragment appear">Une très grande quantité d'IO &lt;-&gt; parralellisation de traitements possible.</li>
<li class="fragment appear">Utilisation dans des contextes spécifiques d'IOT (microcontroleur avec TCP intégré)</li>
<li class="fragment appear">Cartes réseau TLS (oui ça existe)</li>
<li class="fragment appear">Processeur spécifique Java (Oui il y en a aussi)</li>

</ul>
</section>
<section id="slide-org6ccecd2">
<h3 id="org6ccecd2">ASICS VS FPGA</h3>
<p>
ASICS (Application Specific Integrated Circuit)
</p>
<ul>
<li class="fragment appear">Plus couteux &lt;-&gt; nécessite souvent une chaine de production dédiée.</li>
<li class="fragment appear">Moins couteux à l'unité.</li>
<li class="fragment appear">Upgrade impossible ou doit être pris en compte lors du design &lt;=&gt; implique une logique similaire aux FPGAs.</li>
<li class="fragment appear">Plus perfomants (pas de LUTs, placement efficace, etc).</li>
<li class="fragment appear">Votre CPU en est un.</li>

</ul>
<aside class="notes">
<p>
Si vous regardez un peu litérature vous vérez surement le terme ASICS&#x2026;
Un composant existant reproduit avec un FPGA sera toujours moins cher que le FPGA necessaire.
</p>

</aside>
</section>
<section id="slide-org23c4cf4">
<h3 id="org23c4cf4">Exemple de projets FPGA: MisTER</h3>

<div id="orgf49e409" class="figure">
<p><img src="./assets/MISTER_FPGA_Logo.png" alt="MISTER_FPGA_Logo.png" class="questions" />
</p>
</div>
<ul>
<li>Retro-gaming reproduisants les CPUs/GPUs/FPUs</li>
<li>Utilisation d'un matériel "cheap"</li>
<li>Permet de reproduire les "bugs" nécessaires à certains jeux.</li>

</ul>
</section>
</section>
<section>
<section id="slide-orgf2b54ac">
<h2 id="orgf2b54ac">A CLOCK? LIKE MY WATCH?</h2>
<div class="outline-text-2" id="text-orgf2b54ac">
</div>
</section>
<section id="slide-org09482a4">
<h3 id="org09482a4">SIGNAL</h3>
</section>
</section>
<section>
<section id="slide-org594463c">
<h2 id="org594463c">FPGA ARCHITECTURE</h2>

<div id="orgd5d3bcb" class="figure">
<p><img src="./assets/Figure-A-A-three-input-lookup-table-3-LUT-FPGA-A-programmable-interconnect-wires-the.png" alt="Figure-A-A-three-input-lookup-table-3-LUT-FPGA-A-programmable-interconnect-wires-the.png" />
</p>
</div>
<aside class="notes">
<ul>
<li>Composant stateless &lt;=&gt; necessite une mémoire flash et une reprogrammation à chaque boot. =&gt; Bitstream.</li>
<li>Composé de LUT (Lookup Tables), MUXers, Block Ram (BRAM), liens programmables.</li>
<li>Implémentation spcifique au constructeur. bitstream aussi spécifique.</li>
<li>Utilisation des outils du constructeur pour le programmer (Xilinx, etc) =&gt; 130 Go necessaires!!!</li>

</ul>

</aside>
</section>
<section id="slide-orgc17627e">
<h3 id="orgc17627e">MUX</h3>

<div id="org13328ec" class="figure">
<p><img src="./assets/multiplexer.png" alt="multiplexer.png" />
</p>
</div>
<ul>
<li>Permet de selectionner des Inputs en fonction d'un signal.</li>

</ul>
</section>
<section id="slide-org9dbc010">
<h3 id="org9dbc010">LUT</h3>

<div id="org50a3550" class="figure">
<p><img src="./assets/ljnz7.png" alt="ljnz7.png" />
</p>
</div>
<ul>
<li>Composant permettant de reproduire le comportement de plusieurs éléments dont des portes AND, OR, etc.</li>
<li>Coeur même de votre FPGA.</li>

</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" style="margin-left: auto; margin-right: auto;">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">A</th>
<th scope="col" class="org-right">B</th>
<th scope="col" class="org-right">A AND B</th>
<th scope="col" class="org-right">A  OR B</th>
<th scope="col" class="org-right">A XOR B</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-right">0</td>
<td class="org-right">1</td>
<td class="org-right">0</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-right">1</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">0</td>
</tr>
</tbody>
</table>
</section>
</section>
<section>
<section id="slide-org972a54d">
<h2 id="org972a54d">DEMO: BLINKY</h2>
<p>
Ici nous allons juste implémenter un module blinky similaire à celui-ci et l'uploader sur notre FPGA.
</p>

<p>
Pour le "compiler" nous allons utiliser la suite fournie avec F4PGA (le GCC du FPGA).
</p>
<div class="org-src-container">

<pre class="src src-verilog"> <span style="color: #4f97d7; font-weight: bold;">module</span> <span style="color: #bc6ec5; font-weight: bold;">top</span> <span style="color: #4f97d7;">(</span>
     <span style="color: #ce537a; font-weight: bold;">input</span> <span style="color: #ce537a; font-weight: bold;">logic</span> CLK,
     <span style="color: #ce537a; font-weight: bold;">input</span> <span style="color: #ce537a; font-weight: bold;">logic</span> RST,
     <span style="color: #ce537a; font-weight: bold;">output</span> <span style="color: #ce537a; font-weight: bold;">logic</span> <span style="color: #bc6ec5;">[</span><span style="color: #a45bad;">15</span>:<span style="color: #a45bad;">0</span><span style="color: #bc6ec5;">]</span> LEDS
 <span style="color: #4f97d7;">)</span>;
     <span style="color: #ce537a; font-weight: bold;">logic</span> <span style="color: #4f97d7;">[</span><span style="color: #a45bad;">15</span>:<span style="color: #a45bad;">0</span><span style="color: #4f97d7;">]</span> counter = <span style="color: #a45bad;">0</span>;
     <span style="color: #4f97d7; font-weight: bold;">always</span> <span style="color: #ce537a; font-weight: bold;">@</span><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">posedge</span> CLK<span style="color: #4f97d7;">)</span> <span style="color: #ce537a; font-weight: bold;">begin</span>
         counter &lt;= counter + <span style="color: #a45bad;">1</span>;
         <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #4f97d7;">(</span>RST<span style="color: #4f97d7;">)</span> counter &lt;= <span style="color: #a45bad;">0</span>;
     <span style="color: #ce537a; font-weight: bold;">end</span>
     <span style="color: #4f97d7; font-weight: bold;">assign</span> LEDS = counter;
<span style="color: #4f97d7; font-weight: bold;">endmodule</span>
</pre>
</div>
</section>
</section>
<section>
<section id="slide-org242365a">
<h2 id="org242365a">DEMO</h2>

<div id="org6160a2c" class="figure">
<p><object type="image/svg+xml" data="./assets/Programming-pana.svg" class="questions">
Sorry, your browser does not support SVG.</object>
</p>
</div>
</section>
</section>
<section>
<section id="slide-orgd19ad19">
<h2 id="orgd19ad19">CPU?</h2>

<div id="orgbc62542" class="figure">
<p><img src="./assets/simple-CPU.png" alt="simple-CPU.png" style="width: 40%;" />
</p>
</div>
</section>
<section id="slide-org8282948">
<h3 id="org8282948">RISC vs CISC</h3>
<ul>
<li>Taille variable ou non des instructions.</li>
<li>Complexité des instructions.</li>
<li>Intel transforme en interne les instructions CISC en instructions RISC!</li>

</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" style="margin-left: auto; margin-right: auto;">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">RISC (Reduced Instruction Set Computer)</th>
<th scope="col" class="org-left">CISC (Complex Instruction Set Computer)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">PowerPC</td>
<td class="org-left">x86</td>
</tr>

<tr>
<td class="org-left">MIPS</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">SPARC</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">ARM</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</section>
</section>
<section>
<section id="slide-org961795a">
<h2 id="org961795a">DEMO: Un CPU RISC</h2>
<p>
Dans cette demo nous utiliserons un CPU RISC implémentant la norme RV32i (la plus simple) que j'ai développé pour l'occasion :)
</p>
<ul>
<li>CPU 32 bits.</li>
<li>Pas de supports des nombres flottants.</li>
<li>SOC (System on chip) avec des LEDs, une mémoire RAM de 4k, de l'UART (port série).</li>
<li>Utilisation d'un bus Wishbone pour l'intercommunication entre les composants.</li>
<li>Loin d'être perfomant!</li>
<li>Il y a plus que surements des bugs!</li>
<li>Mais on va voir ensemble que ça marche :)</li>

</ul>
</section>
</section>
<section>
<section id="slide-org7612b56">
<h2 id="org7612b56">DEMO</h2>

<div id="orgd4b429a" class="figure">
<p><object type="image/svg+xml" data="./assets/Programming-pana.svg" class="questions">
Sorry, your browser does not support SVG.</object>
</p>
</div>
</section>
</section>
<section>
<section id="slide-org1c160d8">
<h2 id="org1c160d8">MERCI</h2>

<div id="org60c0b19" class="figure">
<p><object type="image/svg+xml" data="./assets/Questions-pana.svg" class="questions">
Sorry, your browser does not support SVG.</object>
</p>
</div>
</section>
</section>
</div>
</div>
<script src="./vendor/reveal.js/dist/reveal.js"></script>
<script src="./vendor/reveal.js/plugin/markdown/markdown.js"></script>
<script src="./vendor/reveal.js/plugin/notes/notes.js"></script>
<script src="./vendor/reveal.js/plugin/search/search.js"></script>
<script src="./vendor/reveal.js/plugin/zoom/zoom.js"></script>
<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: true,
center: true,
slideNumber: 'c',
rollingLinks: true,
keyboard: true,
mouseWheel: false,
fragmentInURL: false,
hashOneBasedIndex: false,
pdfSeparateFragments: true,
overview: true,
width: 1420,
height: 800,
minScale: 0.70,
maxScale: 3.50,

transition: 'linear',
transitionSpeed: 'default',

// Plugins with reveal.js 4.x
plugins: [ RevealMarkdown, RevealNotes, RevealSearch, RevealZoom ],

// Optional libraries used to extend reveal.js
dependencies: [
]

});
</script>
</body>
</html>
